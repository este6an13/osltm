## October 29th, 2025

### Summary

To improve the generalizability and interpretability of the **$\lambda(t)$ estimation**, we decided to **reduce the number of temporal variables** considered when defining the function’s granularity. The goal is to identify which temporal components meaningfully affect $\lambda(t)$ and simplify the model without losing explanatory power.

Preliminary visual analysis revealed that **stations exhibit very different temporal patterns**, suggesting the possibility of **classifying or clustering** them into groups (e.g., sources, sinks, or mixed types) according to their temporal dynamics.

### Method and Implementation

1. **Temporal Component Selection**

   The following components were reviewed for inclusion in the temporal granularity of $\lambda(t)$:

   | Component         | Decision / Rationale                                                                                     |
   | ----------------- | -------------------------------------------------------------------------------------------------------- |
   | **Day of Week**   | Aggregated into three categories: **Weekday**, **Saturday**, **Sunday/Holiday**.                         |
   | **Week of Month** | **Dropped** — adds unnecessary complexity with limited explanatory value.                                |
   | **Month**         | **Tentatively kept** — will analyze whether monthly differences are statistically significant.           |
   | **Year**          | **Kept temporarily** to observe annual behavior and compute averages; may be dropped later if redundant. |
   | **Time of Day**   | Retained with current **15-minute windows** for consistency with OD and $\hat{\lambda}$ computations.    |

2. **Pattern Exploration**

   * Visual inspection of selected stations showed **strong heterogeneity** in temporal demand profiles.
   * These differences suggest potential for **unsupervised clustering** to group stations with similar $\lambda(t)$ behaviors.
   * Classification may also help identify **structural roles** within the network — for instance, stations acting as **sources (departures)** or **sinks (arrivals)**.

### Decisions

1. The **temporal structure of $\lambda(t)$** will initially include:
   **{Day of Week, Month, Year, Time of Day}**, with **Week of Month excluded**.
2. Further analysis will determine whether **Month** and **Year** provide significant signal or can be dropped.
3. **Clustering or classification** of stations will be explored to identify behavioral categories and spatial roles (e.g., sources vs. sinks).

### Assumptions to Validate

1. Aggregating **days of the week** into three categories (Weekday, Saturday, Sunday/Holiday) preserves key behavioral distinctions.
2. **Dropping Week of Month** does not meaningfully reduce model accuracy.
3. **Monthly and yearly effects** may be weak or redundant, and could be removed after testing.
4. **Station-level clustering** reveals meaningful structure (e.g., similar temporal patterns across classes).
5. The **15-minute time window** remains an adequate level of granularity for temporal modeling of $\lambda(t)$.
