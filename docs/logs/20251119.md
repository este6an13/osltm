## **November 19th, 2025**

I have carried out a series of exploratory experiments to examine overdispersion in the check-in data and to reassess the Poisson process assumption using more robust statistical tools. Specifically, I applied the Time-Rescaling + Kolmogorov–Smirnov (KS) test and the Cameron–Trivedi test for overdispersion.

To estimate the intensity function, I worked directly with the raw timestamps and used a kernel density estimator (KDE), avoiding aggregated counts. For now, the database schema does not seem particularly helpful for these analyses; relying on raw data appears more appropriate until we establish workflows that avoid the biases introduced by aggregation. The aggregated counts table may still be useful later for speed-oriented algorithms, but likely not for statistically modeling.

First results indicate that check-ins do **not** follow a regular NHPP: the data shows **overdispersion** and signs of **self-excitation / clustering**. I fitted a Negative Binomial model, and after applying the time-rescaled KS test, the fit looked good. This suggests that the underlying intensity could be modeled as a **random process**. More work is needed to identify what characteristics does this latent intensity process have.

Since we see clustering, I plan to explore **Hawkes processes** and related models, and possibly generalizations of Neyman–Scott cluster processes. An open question is whether these frameworks can be combined to model both random intensity variation and self-excitation.

The scripts in the `analysis/` directory need to be organized, since there is code duplication, and I want to be sure I fully understand each method I applied. The `hawkes_fit.py` script is currently not working and will need to be debugged.

A new script, `time_series_clustering`, was added to try identifying clusters of check-ins over specified time windows (e.g., clustering activity between 5:00–6:00 AM for a given station and day). Studying the cluster-generation process could be really useful; this parent-process could follow a Poisson model. This analysis may also help characterize the distribution of the intensity if an NB/Cox process is used.

About **check-outs**, the raw data are already aggregated, so timestamp-based analyses are currently not feasible. This is a limitation I need to address, I think modelling check-outs behavior could provide valuable information about bus arrivals. Something check-ins alone wouldn't capture. People arrive a stations from their homes and works, it might give information about SITPs or Alimentadores, but I'm not sure about troncal buses. However check-outs would do.

---
